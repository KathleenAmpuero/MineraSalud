<app-header [profileButton]="true"></app-header>

<ion-content [fullscreen]="false">
  <div class="mt-6">
    <!-- Categorías de salud -->
    <div
      class="overflow-x-auto whitespace-nowrap px-6 flex gap-8 pt-1 no-scrollbar"
    >
      @for (tip of healthyTips; track tip) {
      <div class="flex flex-col items-center gap-2">
        <div
          class="flex items-center justify-center rounded-full size-12 ring-2 ring-offset-2"
          [ngClass]="tip.color"
          (click)="openTipModal(tip)"
        >
          <div class="text-xl">{{ tip.icon }}</div>
        </div>
        <div class="text-xxs text-wrap text-center">{{ tip.title }}</div>
      </div>
      }
    </div>

    <section>
      <h3 class="text-lg font-semibold mt-6 px-6">Datos curiosos de salud</h3>
      <div class="carousel carousel-center rounded-3xl max-w-md space-x-6 p-6">
        @for (fact of funFacts; track fact) {
        <div class="carousel-item relative cursor-pointer">
          <!-- Contenedor con animación flip -->
          <div
            class="flip-container"
            [class.flipped]="selectedFunFact?.id === fact.id"
            (click)="selectFunFact(fact)"
          >
            <div class="flip-card">
              <!-- Cara frontal (imagen) -->
              <div class="flip-card-front">
                <img
                  src="{{ fact.image }}"
                  alt="{{ fact.title }}"
                  class="rounded-3xl h-[480px] max-w-2xs w-full"
                />
                <img
                  src="{{ fact.image }}"
                  alt="{{ fact.title }}"
                  class="rounded-3xl h-[480px] w-full absolute inset-0 scale-95 -z-1 blur-lg"
                />
                <div
                  class="absolute inset-0 bg-gradient-to-t from-slate-950/80 to-transparent rounded-3xl"
                ></div>
                <div class="absolute bottom-0 left-0 p-6">
                  <h3 class="text-lg font-semibold text-white">
                    {{ fact.title }}...
                  </h3>
                </div>
              </div>

              <!-- Cara trasera (contenido) -->
              <div class="flip-card-back">
                <div
                  class="rounded-3xl h-[480px] max-w-2xs w-full p-6 flex flex-col justify-between bg-linear-to-b/shorter {{ fact.color }}"
                >
                  <div class="text-white font-semibold text-2xl">
                    {{ fact.title }}
                  </div>
                  <p class="text-white text-lg mt-2">{{ fact.text }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        }
        <!-- Espacio al final del carrusel -->
        <div class="carousel-item relative">
          <div class="rounded-box h-[460px] w-10"></div>
        </div>
      </div>
    </section>

    <section>
      <h3 class="text-lg font-semibold mt-6 px-6">Mitos y realidades</h3>
      <div class="p-6">
        <ul class="space-y-6">
          @for (myth of healthMyths; track myth) {
          <li>
            <div class="flex items-center gap-4">
              <div
                class="mask mask-squircle flex items-center justify-center p-4 {{ myth.color }}"
              >
                <lucide-icon [img]="myth.icon" class="size-6"></lucide-icon>
              </div>
              <h4 class="text-base font-medium">{{ myth.myth }}</h4>
              <button class="btn btn-sm" (click)="openMythModal(myth)">
                Ver más
              </button>
            </div>
          </li>
          }
        </ul>
      </div>
    </section>
  </div>
</ion-content>
